# ========================================
# UPKEEP APPLICATION CONFIGURATION
# ========================================

# ========================================
# 1. APPLICATION INFO
# ========================================
quarkus.application.name=upkeep-api
quarkus.application.version=1.0.0
quarkus.http.port=8080

# Disable default validation exception mapper (use custom GlobalExceptionMapper)
quarkus.hibernate-validator.fail-fast=false

# ========================================
# 2. DATABASE CONFIGURATION
# ========================================
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/upkeep_db
quarkus.datasource.username=upkeep
quarkus.datasource.password=upkeep

# ========================================
# 3. MIGRATIONS
# ========================================
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=0

# ========================================
# 4. HTTP & CORS CONFIGURATION
# ========================================
quarkus.http.cors=true
quarkus.http.cors.methods=GET,POST,PUT,PATCH,DELETE,OPTIONS
quarkus.http.cors.origins=http://localhost:5173,http://localhost:3000
quarkus.http.cors.access-control-allow-credentials=true
quarkus.http.cors.headers=Content-Type,Authorization,Accept
quarkus.http.cors.exposed-headers=Location
quarkus.http.cors.access-control-max-age=24H

# ========================================
# 5. JWT SECURITY
# ========================================
mp.jwt.verify.publickey.location=publicKey.pem
mp.jwt.verify.issuer=upkeep
smallrye.jwt.sign.key.location=privateKey.pem

jwt.access-token-expiry-seconds=900
jwt.refresh-token-expiry-seconds=604800

# ========================================
# 6. COOKIE SECURITY
# ========================================
%dev.app.use-secure-cookies=false
%test.app.use-secure-cookies=false
app.use-secure-cookies=true

# ========================================
# 7. FRONTEND URL
# ========================================
%dev.app.frontend-url=http://localhost:5173
%test.app.frontend-url=http://localhost:5173
app.frontend-url=${APP_FRONTEND_URL:http://localhost:5173}

# ========================================
# 8. OAUTH GITHUB
# ========================================
%dev.oauth.github.client-id=${OAUTH_GITHUB_CLIENT_ID:dev_client_id}
%dev.oauth.github.client-secret=${OAUTH_GITHUB_CLIENT_SECRET:dev_client_secret}
%dev.oauth.github.redirect-uri=http://localhost:8080/api/auth/oauth/github/callback

oauth.github.client-id=${OAUTH_GITHUB_CLIENT_ID}
oauth.github.client-secret=${OAUTH_GITHUB_CLIENT_SECRET}
oauth.github.redirect-uri=${OAUTH_GITHUB_REDIRECT_URI}

# ========================================
# 9. HIBERNATE
# ========================================
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=false

# ========================================
# LOGGING CONFIGURATION
# ========================================
quarkus.log.level=INFO
%dev.quarkus.log.console.json=false
quarkus.log.category."com.upkeep".level=DEBUG
